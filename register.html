<!-- register.html -->

<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Register</title>

    <script src="js/config.js"></script>

    <script src=https://cdnjs.cloudflare.com/ajax/libs/amazon-cognito-identity-js/5.2.7/amazon-cognito-identity.min.js></script>

</head>

<body>

    <div class="container">

        <h1>Register</h1>

        <form id="registerForm">

            <input type="text" id="fullName" placeholder="Full Name" required>

            <input type="email" id="email" placeholder="Email" required>

            <input type="password" id="password" placeholder="Password" required>

            <button type="submit" class="btn">Register</button>

        </form>

    </div>

</body>

</html>

<script>

    document.getElementById("registerForm").addEventListener("submit", function(event) {

        event.preventDefault();

        const email = document.getElementById("email").value;

        const password = document.getElementById("password").value;

        const userPool = new AmazonCognitoIdentity.CognitoUserPool({

            UserPoolId: cognitoConfig.userPoolId,

            ClientId: cognitoConfig.clientId

        });

        userPool.signUp(email, password, [], null, function(err, result) {

            if (err) {

                alert(err.message || JSON.stringify(err));

                return;

            }

            alert("Registration successful! Check your email for the verification code.");

            window.location.href = "verify.html";

        });

    });

</script>

 

<!-- verify.html -->

<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Verify Account</title>

    <script src="config.js"></script>

    <script src=https://cdnjs.cloudflare.com/ajax/libs/amazon-cognito-identity-js/5.2.7/amazon-cognito-identity.min.js></script>

</head>

<body>

    <div class="container">

        <h1>Verify Your Account</h1>

        <p>Enter the verification code sent to your email.</p>

        <form id="verifyForm">

            <input type="email" id="emailInputVerify" placeholder="Email" required>

            <input type="text" id="codeInputVerify" placeholder="Verification Code" required>

            <button type="submit" class="btn">Verify</button>

        </form>

    </div>

</body>

</html>

<script>

    document.getElementById("verifyForm").addEventListener("submit", function(event) {

        event.preventDefault();

        const email = document.getElementById("emailInputVerify").value;

        const code = document.getElementById("codeInputVerify").value;

        const userPool = new AmazonCognitoIdentity.CognitoUserPool({

            UserPoolId: cognitoConfig.userPoolId,

            ClientId: cognitoConfig.clientId

        });

        const cognitoUser = new AmazonCognitoIdentity.CognitoUser({

            Username: email,

            Pool: userPool

        });

        cognitoUser.confirmRegistration(code, true, function(err, result) {

            if (err) {

                alert(err.message || JSON.stringify(err));

                return;

            }

            alert("Verification successful! You can now log in.");

            window.location.href = "index.html";

        });

    });

</script>
