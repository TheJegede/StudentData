<!-- register.html -->

<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Register</title>

    <script src="js/config.js"></script>

    <script src=https://cdnjs.cloudflare.com/ajax/libs/amazon-cognito-identity-js/5.2.7/amazon-cognito-identity.min.js></script>

</head>

<body>

    <div class="container">

        <h1>Register</h1>

        <form id="registerForm">

            <input type="text" id="fullName" placeholder="Full Name" required>

            <input type="email" id="email" placeholder="Email" required>

            <input type="password" id="password" placeholder="Password" required>

            <button type="submit" class="btn">Register</button>

        </form>

    </div>

</body>

</html>

<script>

    document.getElementById("registerForm").addEventListener("submit", function(event) {

        event.preventDefault();

        const email = document.getElementById("email").value;

        const password = document.getElementById("password").value;

        const userPool = new AmazonCognitoIdentity.CognitoUserPool({

            UserPoolId: window._config.cognito.userPoolId,

            ClientId: window._config.cognito.userPoolClientId

        });

       

        userPool.signUp(email, password, [], null, function(err, result) {

            if (err) {

                alert("Registration Error: " + (err.message || JSON.stringify(err)));

                return;

            }

           

            alert("Registration successful! Check your email for the verification code.");

            localStorage.setItem("emailForVerification", email); // Store email for verify.html

            window.location.href = "verify.html";

        });

    });

</script>
